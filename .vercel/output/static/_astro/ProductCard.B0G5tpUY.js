import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r,R as k}from"./index.6otl1p8d.js";import{C as v,a as w,b as j,c as y,d as N}from"./carousel.B8InbKvp.js";import{c as I}from"./index.C4PlTqAK.js";const b=I(l=>({currentImageIndex:0,setCurrentImageIndex:m=>l({currentImageIndex:m}),resetImageIndex:()=>l({currentImageIndex:0})})),E=({title:l,description:m,image:h,images:x=[],features:u=[],category:n="",isOpen:a,onClose:d})=>{const i=x.length>0?x:[h],c=b(t=>t.currentImageIndex),g=b(t=>t.setCurrentImageIndex),p=b(t=>t.resetImageIndex),f=r.useRef(null);r.useEffect(()=>(a?document.body.style.overflow="hidden":(document.body.style.overflow="",p()),()=>{document.body.style.overflow=""}),[a,p]),r.useEffect(()=>{if(!a)return;const t=s=>{f.current&&!f.current.contains(s.target)&&d()};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[a,d]),r.useEffect(()=>{if(!a)return;const t=s=>{s.key==="Escape"&&d()};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[a,d]),r.useEffect(()=>{if(a){const t=l.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),s=`${window.location.pathname}?material=${t}`;window.history.pushState({},"",s)}},[a,l]),r.useEffect(()=>{a||window.history.pushState({},"",window.location.pathname)},[a]);const o=()=>{const t=window.location.href;navigator.share?navigator.share({title:`${l} - Mármoles Deluxe`,text:`¡Mira este hermoso ${n?.toLowerCase()||""} de Mármoles Deluxe!`,url:t}):(navigator.clipboard.writeText(t),alert("¡Enlace copiado al portapapeles!"))};return e.jsxs("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 transition-all duration-500 ${a?"opacity-100 backdrop-blur-sm":"pointer-events-none opacity-0"}`,style:{minHeight:"100dvh"},children:[e.jsx("div",{className:`fixed inset-0 bg-black/70 backdrop-blur-md transition-all duration-500 ${a?"opacity-100":"opacity-0"}`}),e.jsxs("div",{ref:f,className:`relative w-full max-w-2xl sm:max-w-3xl lg:max-w-4xl transform overflow-hidden rounded-2xl bg-white/95 backdrop-blur-sm p-2 sm:p-4 lg:p-6 shadow-2xl transition-all duration-500 ${a?"translate-y-0 opacity-100 scale-100":"translate-y-4 opacity-0 scale-95"}`,children:[e.jsxs("div",{className:"absolute right-2 top-2 flex gap-2 z-10",children:[e.jsx("button",{className:"rounded-full p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 transition-colors",onClick:o,title:"Compartir",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),e.jsx("button",{className:"rounded-full p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 transition-colors",onClick:d,title:"Cerrar",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"relative aspect-[4/3] w-full overflow-hidden rounded-lg",children:e.jsxs(v,{className:"w-full h-full",children:[e.jsx(w,{children:e.jsx(j,{children:e.jsx("img",{src:i[c],alt:`${l} - vista ${c+1}`,className:"w-full h-full object-cover"})})}),i.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(y,{onClick:()=>g((c-1+i.length)%i.length),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white h-8 w-8 rounded-full flex items-center justify-center z-10 text-marmoles-gold border border-marmoles-gold/20 hover:border-marmoles-gold transition-all duration-200"}),e.jsx(N,{onClick:()=>g((c+1)%i.length),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white h-8 w-8 rounded-full flex items-center justify-center z-10 text-marmoles-gold border border-marmoles-gold/20 hover:border-marmoles-gold transition-all duration-200"})]})]})}),i.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2",children:i.map((t,s)=>e.jsx("div",{className:`aspect-square overflow-hidden rounded-lg cursor-pointer transition-all duration-200 ${c===s?"ring-2 ring-marmoles-gold opacity-100":"hover:opacity-75 opacity-60"}`,onClick:()=>g(s),children:e.jsx("img",{src:t,alt:`${l} - miniatura ${s+1}`,className:"h-full w-full object-cover"})},s))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-marmoles-gold/10 text-marmoles-gold mb-2",children:n}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:l}),e.jsx("p",{className:"mt-2 text-gray-600 leading-relaxed",children:m}),u.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Características"}),e.jsx("ul",{className:"space-y-2",children:u.map((t,s)=>e.jsxs("li",{className:"flex items-start text-gray-600",children:[e.jsx("svg",{className:"w-5 h-5 text-marmoles-gold mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:t})]},s))})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{onClick:()=>{const t=`Hola, estoy interesado en obtener más información sobre ${n?`${n} - `:""}${l}.`,s=encodeURIComponent(t);window.open(`https://wa.me/+573132592793?text=${s}`,"_blank")},className:"w-full bg-marmoles-black text-white py-3 rounded-lg hover:bg-opacity-90 transition-colors duration-300 focus:ring-2 focus:ring-marmoles-gold focus:outline-none text-sm font-medium",children:"Solicitar Información"})})]})]})]})]})},$=({name:l,description:m,images:h,price:x,features:u=[],category:n=""})=>{const[a,d]=r.useState(!1),[i,c]=r.useState(!1),g=r.useCallback(()=>{const o=`Hola, estoy interesado en obtener más información sobre la piedra sinterizada: ${n?`${n} - `:""}${l}.`,s=`https://wa.me/+573132592793?text=${encodeURIComponent(o)}`;window.open(s,"_blank")},[n,l]),p=200;r.useEffect(()=>{const o=s=>{const{id:C}=s.detail;c(C===l)},t=()=>{c(!1)};return document.addEventListener("modal-state-change",o),document.addEventListener("modal-close",t),()=>{document.removeEventListener("modal-state-change",o),document.removeEventListener("modal-close",t)}},[l]);const f=()=>{const o=new CustomEvent("modal-state-change",{detail:{id:l}});document.dispatchEvent(o)};return e.jsxs(e.Fragment,{children:[e.jsxs("article",{className:"bg-white rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col h-full max-w-md",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:f,children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative aspect-video w-full mb-6 overflow-hidden",children:[e.jsxs(v,{className:"w-full h-full absolute inset-0",children:[e.jsx(w,{className:"h-full",children:h.map((o,t)=>e.jsx(j,{className:"h-full w-full",children:e.jsx("div",{className:"w-full h-full overflow-hidden bg-gray-100",children:e.jsx("img",{src:o,alt:`${l} ${t===0?"":"- diseño"}`,className:"w-full h-full object-cover rounded-lg",style:{objectPosition:"left bottom",height:p,width:"100%",contentVisibility:"auto"},loading:"lazy",decoding:"async",fetchPriority:t===0?"high":"low",onLoad:s=>{t===0&&(s.currentTarget.style.contentVisibility="visible")}})})},t))}),a&&e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 h-8 w-8 rounded-full flex items-center justify-center z-10 text-marmoles-gold hover:text-marmoles-gold border border-marmoles-gold/20 hover:border-marmoles-gold transition-all duration-200 disabled:opacity-30 disabled:cursor-not-allowed"}),e.jsx(N,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-75 hover:bg-opacity-100 h-8 w-8 rounded-full flex items-center justify-center z-10 text-marmoles-gold hover:text-marmoles-gold border border-marmoles-gold/20 hover:border-marmoles-gold transition-all duration-200 disabled:opacity-30 disabled:cursor-not-allowed"})]})]}),x&&e.jsx("div",{className:"absolute top-4 right-4 bg-marmoles-gold text-white px-3 py-1 rounded-full text-sm font-semibold z-20",children:x})]})}),e.jsxs("div",{className:"px-5 py-4",children:[e.jsx("h3",{className:"text-lg font-bold text-marmoles-black mb-2 truncate",children:l}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:m}),u.length>0&&e.jsx("ul",{className:"space-y-2 mb-4",children:u.map(o=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 text-marmoles-gold mr-2",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})}),o]},o))})]}),e.jsx("div",{className:"px-5 pb-5 mt-auto",children:e.jsx("button",{onClick:o=>{o.stopPropagation(),g()},className:"w-full bg-marmoles-black text-white py-3 rounded-lg hover:bg-opacity-90 transition-colors duration-300 focus:ring-2 focus:ring-marmoles-gold focus:outline-none text-sm",children:"Solicitar Información"})})]}),e.jsx(E,{title:l,description:m,image:h[0],images:h,features:u,category:n,isOpen:i,onClose:()=>{const o=new CustomEvent("modal-close");document.dispatchEvent(o)}})]})},S=k.memo($);export{S as default};
