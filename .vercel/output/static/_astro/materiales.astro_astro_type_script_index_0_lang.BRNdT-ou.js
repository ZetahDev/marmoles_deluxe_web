import{u as s,A as l}from"./uploads.C2QK9uhh.js";document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("materialForm");if(!r){console.error("Form element not found");return}r.addEventListener("submit",async n=>{n.preventDefault();const t=new FormData(r),i={nombre:t.get("nombre"),descripcion:t.get("descripcion")};try{const e=t.get("imagen");let a="";if(e instanceof File&&(a=await s(e,"materiales")),!(await fetch(`${l}/materials`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...i,imagen:a})})).ok)throw new Error("Failed to create material");alert("Material creado exitosamente");const o=new URL(window.location.href);o.searchParams.set("refresh",Date.now().toString()),window.location.href=o.toString()}catch(e){console.error("Error:",e),alert("Error al crear el material")}})});
