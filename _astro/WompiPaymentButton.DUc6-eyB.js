import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as l}from"./index.6otl1p8d.js";import{C as w,g as O,a as k,p as B}from"./card.D1vLqQHV.js";import{B as n}from"./button.DIDfdi4O.js";const u={publicKey:"pub_test_default",redirectUrl:"http://localhost:4321/confirmacion-pago"};function E({paymentType:i,productName:x,productDescription:p,price:c,quantity:s=1,sku:R,buttonText:g="Pagar con Wompi",className:f=""}){const[h,m]=l.useState(!1),[a,t]=l.useState({name:"",email:"",phone:""}),[o,b]=l.useState(!1),j=()=>{if(!a.name||!a.email||!a.phone){alert("Por favor completa todos los campos del formulario");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)){alert("Por favor ingresa un email válido");return}if(!/^3\d{9}$/.test(a.phone.replace(/\s/g,""))){alert("Por favor ingresa un teléfono válido (10 dígitos, iniciando con 3)");return}b(!0);const v=O(i),C=B(c*s),P=k({publicKey:u.publicKey,reference:v,amount:C,currency:"COP",customer:a,redirectUrl:u.redirectUrl});window.location.href=P},y=()=>{switch(i){case"ANTICIPO":return"Anticipo/Seña";case"SERVICIO":return"Servicio";case"PRODUCTO_CATALOGO":return"Producto del Catálogo"}},N=r=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(r);return h?e.jsx(w,{className:"p-6 max-w-md mx-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center border-b pb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Datos de Pago"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y()})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:x}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:p}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Cantidad: ",s]}),e.jsx("span",{className:"text-lg font-bold text-[#8B4513]",children:N(c*s)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo *"}),e.jsx("input",{type:"text",value:a.name,onChange:r=>t({...a,name:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#8B4513]",placeholder:"Ej: Juan Pérez",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",value:a.email,onChange:r=>t({...a,email:r.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#8B4513]",placeholder:"ejemplo@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono *"}),e.jsx("input",{type:"tel",value:a.phone,onChange:r=>{const d=r.target.value.replace(/\D/g,"");t({...a,phone:d})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#8B4513]",placeholder:"3001234567",maxLength:10,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"10 dígitos, iniciando con 3"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsx("p",{className:"text-xs text-blue-800",children:"🔒 Tu pago es procesado de forma segura por Wompi. Serás redirigido a su plataforma para completar la transacción."})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n,{variant:"outline",onClick:()=>m(!1),className:"flex-1",disabled:o,children:"Cancelar"}),e.jsx(n,{onClick:j,className:"flex-1 bg-[#8B4513] hover:bg-[#6d3410]",disabled:o,children:o?"Generando...":"Continuar al Pago"})]}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"inline-block bg-yellow-100 text-yellow-800 text-xs px-3 py-1 rounded-full font-medium",children:"⚠️ MODO PRUEBA"})})]})}):e.jsx(n,{onClick:()=>m(!0),className:f,size:"lg",children:g})}export{E as default};
