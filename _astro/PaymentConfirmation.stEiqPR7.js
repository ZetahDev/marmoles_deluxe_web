import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as n}from"./index.6otl1p8d.js";import{C as r,c as b}from"./card.D1vLqQHV.js";import{B as i}from"./button.DIDfdi4O.js";function E({transactionId:o}){const[s,x]=n.useState(null),[h,c]=n.useState(!0),[d,m]=n.useState(null);n.useEffect(()=>{o?p(o):(c(!1),m("No se proporcionó un ID de transacción"))},[o]);const p=async a=>{try{c(!0);const l=await fetch(`https://production.wompi.co/v1/transactions/${a}`);if(!l.ok)throw new Error("No se pudo obtener la información de la transacción");const N=await l.json();x(N.data)}catch(l){console.error("Error fetching transaction:",l),m("Error al obtener los detalles de la transacción")}finally{c(!1)}},j=a=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(b(a)),f=a=>new Intl.DateTimeFormat("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(a)),u=a=>{switch(a){case"APPROVED":return{icon:"✅",title:"¡Pago Exitoso!",message:"Tu pago ha sido procesado correctamente",color:"bg-green-50 border-green-200",textColor:"text-green-800"};case"PENDING":return{icon:"⏳",title:"Pago Pendiente",message:"Tu pago está siendo procesado",color:"bg-yellow-50 border-yellow-200",textColor:"text-yellow-800"};case"DECLINED":return{icon:"❌",title:"Pago Rechazado",message:"Tu pago no pudo ser procesado",color:"bg-red-50 border-red-200",textColor:"text-red-800"};case"VOIDED":return{icon:"🚫",title:"Pago Anulado",message:"Esta transacción ha sido anulada",color:"bg-gray-50 border-gray-200",textColor:"text-gray-800"};default:return{icon:"ℹ️",title:"Estado Desconocido",message:"No se pudo determinar el estado del pago",color:"bg-blue-50 border-blue-200",textColor:"text-blue-800"}}};if(h)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#8B4513]"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Verificando tu pago..."})]});if(d||!s)return e.jsxs(r,{className:"p-8 max-w-2xl mx-auto text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error al Verificar el Pago"}),e.jsx("p",{className:"text-gray-600 mb-6",children:d||"No se pudo obtener la información de la transacción"}),e.jsx(i,{onClick:()=>window.location.href="/",children:"Volver al Inicio"})]});const t=u(s.status);return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs(r,{className:`p-8 text-center border-2 ${t.color}`,children:[e.jsx("div",{className:"text-7xl mb-4",children:t.icon}),e.jsx("h1",{className:`text-3xl font-bold mb-2 ${t.textColor}`,children:t.title}),e.jsx("p",{className:`text-lg ${t.textColor}`,children:t.message})]}),e.jsxs(r,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 border-b pb-2",children:"📋 Detalles de la Transacción"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"ID de Transacción:"}),e.jsx("span",{className:"font-mono text-sm font-semibold",children:s.id})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Referencia:"}),e.jsx("span",{className:"font-mono text-sm font-semibold",children:s.reference})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Monto:"}),e.jsx("span",{className:"text-xl font-bold text-[#8B4513]",children:j(s.amount_in_cents)})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Método de Pago:"}),e.jsx("span",{className:"font-medium capitalize",children:s.payment_method_type.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between py-2 border-b",children:[e.jsx("span",{className:"text-gray-600",children:"Fecha:"}),e.jsx("span",{className:"font-medium",children:f(s.created_at)})]}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-gray-600",children:"Email:"}),e.jsx("span",{className:"font-medium",children:s.customer_email})]})]})]}),s.status==="APPROVED"&&e.jsxs(r,{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🎯"})," Próximos Pasos"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-2xl mr-3",children:"1️⃣"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Confirmación por Email"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Recibirás un email con los detalles de tu compra y próximos pasos"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-2xl mr-3",children:"2️⃣"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Coordinación de Servicio"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Nuestro equipo se pondrá en contacto contigo en las próximas 24 horas para coordinar"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"text-2xl mr-3",children:"3️⃣"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Ejecución"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Realizaremos el servicio o enviaremos tu producto según lo acordado"})]})]})]})]}),e.jsxs(r,{className:"p-6 bg-gradient-to-br from-amber-50 to-orange-50",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📞"})," ¿Necesitas Ayuda?"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"📧"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("a",{href:"mailto:info@marmolesdeluxe.com",className:"font-semibold text-[#8B4513] hover:underline",children:"info@marmolesdeluxe.com"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"💬"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"WhatsApp"}),e.jsx("a",{href:"https://wa.me/573001234567",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-[#8B4513] hover:underline",children:"+57 300 123 4567"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-2xl mr-3",children:"🕐"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Horario de Atención"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["Lunes a Viernes: 8:00 AM - 6:00 PM",e.jsx("br",{}),"Sábados: 9:00 AM - 2:00 PM"]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(i,{onClick:()=>window.location.href="/",variant:"outline",size:"lg",children:"🏠 Volver al Inicio"}),e.jsx(i,{onClick:()=>window.print(),className:"bg-[#8B4513] hover:bg-[#6d3410]",size:"lg",children:"🖨️ Imprimir Comprobante"})]}),s.status==="APPROVED"&&e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-500 italic",children:"📬 Un comprobante detallado ha sido enviado a tu correo electrónico"})})]})}export{E as default};
