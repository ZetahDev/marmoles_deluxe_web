import{j as f}from"./jsx-runtime.D_zvdyIk.js";import{r as w}from"./index.6otl1p8d.js";import{c as j}from"./index.C4PlTqAK.js";const I={};function _(m,d){let o;try{o=m()}catch{return}return{getItem:s=>{var e;const i=u=>u===null?null:JSON.parse(u,void 0),c=(e=o.getItem(s))!=null?e:null;return c instanceof Promise?c.then(i):i(c)},setItem:(s,e)=>o.setItem(s,JSON.stringify(e,void 0)),removeItem:s=>o.removeItem(s)}}const S=m=>d=>{try{const o=m(d);return o instanceof Promise?o:{then(a){return S(a)(o)},catch(a){return this}}}catch(o){return{then(a){return this},catch(a){return S(a)(o)}}}},E=(m,d)=>(o,a,s)=>{let e={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:r=>r,version:0,merge:(r,h)=>({...h,...r}),...d},i=!1;const c=new Set,u=new Set;let l;try{l=e.getStorage()}catch{}if(!l)return m((...r)=>{console.warn(`[zustand persist middleware] Unable to update item '${e.name}', the given storage is currently unavailable.`),o(...r)},a,s);const b=S(e.serialize),x=()=>{const r=e.partialize({...a()});let h;const t=b({state:r,version:e.version}).then(v=>l.setItem(e.name,v)).catch(v=>{h=v});if(h)throw h;return t},y=s.setState;s.setState=(r,h)=>{y(r,h),x()};const g=m((...r)=>{o(...r),x()},a,s);let p;const n=()=>{var r;if(!l)return;i=!1,c.forEach(t=>t(a()));const h=((r=e.onRehydrateStorage)==null?void 0:r.call(e,a()))||void 0;return S(l.getItem.bind(l))(e.name).then(t=>{if(t)return e.deserialize(t)}).then(t=>{if(t)if(typeof t.version=="number"&&t.version!==e.version){if(e.migrate)return e.migrate(t.state,t.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return t.state}).then(t=>{var v;return p=e.merge(t,(v=a())!=null?v:g),o(p,!0),x()}).then(()=>{h?.(p,void 0),i=!0,u.forEach(t=>t(p))}).catch(t=>{h?.(void 0,t)})};return s.persist={setOptions:r=>{e={...e,...r},r.getStorage&&(l=r.getStorage())},clearStorage:()=>{l?.removeItem(e.name)},getOptions:()=>e,rehydrate:()=>n(),hasHydrated:()=>i,onHydrate:r=>(c.add(r),()=>{c.delete(r)}),onFinishHydration:r=>(u.add(r),()=>{u.delete(r)})},n(),p||g},L=(m,d)=>(o,a,s)=>{let e={storage:_(()=>localStorage),partialize:n=>n,version:0,merge:(n,r)=>({...r,...n}),...d},i=!1;const c=new Set,u=new Set;let l=e.storage;if(!l)return m((...n)=>{console.warn(`[zustand persist middleware] Unable to update item '${e.name}', the given storage is currently unavailable.`),o(...n)},a,s);const b=()=>{const n=e.partialize({...a()});return l.setItem(e.name,{state:n,version:e.version})},x=s.setState;s.setState=(n,r)=>{x(n,r),b()};const y=m((...n)=>{o(...n),b()},a,s);s.getInitialState=()=>y;let g;const p=()=>{var n,r;if(!l)return;i=!1,c.forEach(t=>{var v;return t((v=a())!=null?v:y)});const h=((r=e.onRehydrateStorage)==null?void 0:r.call(e,(n=a())!=null?n:y))||void 0;return S(l.getItem.bind(l))(e.name).then(t=>{if(t)if(typeof t.version=="number"&&t.version!==e.version){if(e.migrate)return[!0,e.migrate(t.state,t.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,t.state];return[!1,void 0]}).then(t=>{var v;const[M,k]=t;if(g=e.merge(k,(v=a())!=null?v:y),o(g,!0),M)return b()}).then(()=>{h?.(g,void 0),g=a(),i=!0,u.forEach(t=>t(g))}).catch(t=>{h?.(void 0,t)})};return s.persist={setOptions:n=>{e={...e,...n},n.storage&&(l=n.storage)},clearStorage:()=>{l?.removeItem(e.name)},getOptions:()=>e,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:n=>(c.add(n),()=>{c.delete(n)}),onFinishHydration:n=>(u.add(n),()=>{u.delete(n)})},e.skipHydration||p(),g||y},N=(m,d)=>"getStorage"in d||"serialize"in d||"deserialize"in d?((I?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),E(m,d)):L(m,d),C=N,H=j()(C(m=>({isMobileMenuOpen:!1,setMobileMenuOpen:d=>m({isMobileMenuOpen:d}),toggleMobileMenu:()=>m(d=>({isMobileMenuOpen:!d.isMobileMenuOpen}))}),{name:"navbar-storage",partialize:m=>({isMobileMenuOpen:m.isMobileMenuOpen})})),z=({navItems:m,currentPath:d})=>{const{isMobileMenuOpen:o,toggleMobileMenu:a,setMobileMenuOpen:s}=H();w.useEffect(()=>{const i=u=>{const l=u.target;o&&!l.closest("#mobile-menu")&&!l.closest("#mobile-menu-button")&&s(!1)},c=u=>{u.key==="Escape"&&s(!1)};return document.addEventListener("click",i),document.addEventListener("keydown",c),()=>{document.removeEventListener("click",i),document.removeEventListener("keydown",c)}},[o,s]);const e=i=>{i.preventDefault();const c=i.currentTarget.nextElementSibling;c&&c.classList.toggle("hidden")};return f.jsxs(f.Fragment,{children:[f.jsx("button",{className:"md:hidden p-2 text-marmoles-gold hover:text-marmoles-gold transition-colors",id:"mobile-menu-button","aria-label":"MenÃº",onClick:a,"aria-expanded":o,children:f.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:o?f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),o&&f.jsx("div",{className:"md:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40 top-16",onClick:()=>s(!1)}),f.jsx("div",{className:`md:hidden fixed top-16 left-0 w-full bg-white/80 backdrop-blur-md border-b border-white/20 text-gray-800 shadow-2xl transition-all duration-300 z-50 ${o?"max-h-screen opacity-100":"max-h-0 opacity-0 overflow-hidden"}`,id:"mobile-menu","aria-hidden":!o,children:f.jsx("div",{className:"px-4 py-3 space-y-3",children:m.map((i,c)=>i.isLogo?null:i.items?f.jsxs("div",{className:"space-y-2",children:[f.jsxs("button",{className:"text-sm font-medium text-gray-800 hover:text-marmoles-gold w-full text-left flex justify-between items-center transition-colors",onClick:e,children:[i.label,f.jsx("svg",{className:"h-4 w-4 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),f.jsx("div",{className:"hidden pl-4 space-y-2",children:i.items.map(({href:u,label:l},b)=>f.jsx("a",{href:u,className:`block text-sm font-medium hover:text-marmoles-gold py-2 transition-colors ${d===u||d.endsWith(u)?"text-marmoles-gold":"text-gray-800"}`,onClick:()=>s(!1),children:l},`mobile-subitem-${c}-${b}`))})]},`mobile-item-${c}`):f.jsx("a",{href:i.href,className:`block text-sm font-medium py-2 transition-colors ${i.href&&(d===i.href||d.endsWith(i.href))?"text-marmoles-gold":"text-gray-800 hover:text-marmoles-gold"}`,onClick:()=>s(!1),children:i.label},`mobile-item-${c}`))})})]})};export{z as default};
