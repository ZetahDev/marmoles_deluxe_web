---
import Layout from "../layouts/Layout.astro";
import { CarouselWrapper } from "../components/CarouselWrapper";
import { TestimonialCarousel } from "../components/TestimonialCarousel";
import ContactForm from "../components/ContactForm";
import SEOSchemaData from "../components/SEOSchemaData.tsx";
import PromoBlancoPolarModal from "@/components/PromoBlancoPolarModal";

// Metadatos SEO para la página
const title = "Mármoles Deluxe - La calidad del mármol en el corazón de Cali";
const description =
  "Empresa familiar con 16 años de experiencia en suministro e instalación de superficies en piedras naturales y sinterizadas en Cali y Valle del Cauca.";

const keywords =
  "mármoles Cali, granitos Cali, piedra sinterizada Cali, cuarzo Cali, encimeras cocina Cali, instalación mármol Valle del Cauca, mármoles naturales, Neolith, Dekton, Silestone, Altea";

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const pageUrl = canonicalURL.toString();
const metaImage = new URL("/images/contactanos-og.jpg", Astro.site).toString();

const testimonies = [
  {
    name: "María González",
    text: "Excelente trabajo en mi cocina. El mármol quedó perfecto y la instalación fue muy profesional.",
  },
  {
    name: "Sebastian Castro",
    text: "Muy satisfecho con el servicio. Cumplieron con los tiempos y la calidad es excepcional.",
  },
  {
    name: "Ana Martínez",
    text: "La mejor decisión para renovar mi baño. El equipo es muy profesional y el resultado es increíble.",
  },
  {
    name: "Carlos Rodríguez",
    text: "Trabajo impecable en mi sala. El mármol quedó espectacular y la instalación fue muy limpia.",
  },
  {
    name: "Laura Sánchez",
    text: "Excelente atención y calidad en el trabajo. Mi cocina quedó hermosa con el mármol instalado.",
  },
];

const projects = [
  {
    title: "Cocina Moderna",
    description: "Diseño contemporáneo con mármol de alta calidad",
    image:
      "https://images.unsplash.com/photo-1556911220-bff31c812dba?q=60&w=600&auto=format&fit=crop",
  },
  {
    title: "Baño de Lujo",
    description: "Acabados premium en mármol natural",
    image:
      "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?q=60&w=600&auto=format&fit=crop",
  },
  {
    title: "Isla de Cocina",
    description: "Centro de entretenimiento con acabados de lujo",
    image:
      "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?q=60&w=600&auto=format&fit=crop",
  },
  {
    title: "Sala Principal",
    description: "Diseño elegante con mármol italiano",
    image:
      "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?q=60&w=600&auto=format&fit=crop",
  },
  {
    title: "Comedor Formal",
    description: "Elegancia y estilo en cada detalle",
    image:
      "https://images.unsplash.com/photo-1616486029423-aaa4789e8c9a?q=60&w=600&auto=format&fit=crop",
  },
];
---

<Layout title={title} description={description}>
  <Fragment slot="head">
    <!-- Critical CSS inline para LCP -->
    <style>
      /* Critical styles for hero section */
      .hero-critical {
        position: relative;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .hero-critical img {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    </style>

    <!-- SEO Meta Tags -->
    <meta name="keywords" content={keywords} />
    <link rel="canonical" href={canonicalURL} />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Mármoles Deluxe" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:locale" content="es_CO" />
    <meta property="og:site_name" content="Mármoles Deluxe" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />

    <!-- Geo Tags -->
    <meta name="geo.region" content="CO-VAC" />
    <meta name="geo.placename" content="Cali" />
    <meta name="geo.position" content="3.4516;-76.5320" />
    <meta name="ICBM" content="3.4516, -76.5320" />

    <!-- Preload critical LCP image -->
    <link
      rel="preload"
      as="image"
      href="https://images.unsplash.com/photo-1556911220-bff31c812dba?q=60&w=1200&auto=format&fit=crop"
      fetchpriority="high"
    />
  </Fragment>

  <!-- Agregar datos estructurados schema.org para SEO -->
  <SEOSchemaData
    client:idle
    pageTitle={title}
    pageDescription={description}
    pageUrl={pageUrl}
    pageImage={metaImage}
  />

  <!-- Hero Section -->
  <section
    class="relative h-screen flex items-center justify-center text-marmoles-white"
  >
    <img
      src="https://images.unsplash.com/photo-1556911220-bff31c812dba?q=60&w=1200&auto=format&fit=crop"
      alt="Cocina moderna con encimera de mármol"
      class="absolute inset-0 w-full h-full object-cover"
      width="1200"
      height="675"
      fetchpriority="high"
    />
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm z-10"></div>
    <div class="container mx-auto px-4 z-20 text-center">
      <h1 class="text-4xl md:text-6xl font-bold mb-4">
        <span class="text-marmoles-gold">Mármoles</span> Deluxe
      </h1>
      <p
        class="text-base md:text-lg italic font-light tracking-wide mb-12 text-gray-200"
      >
        "La elegancia del mármol en el corazón de tu hogar"
      </p>

      <div class="mt-12">
        <p class="text-xl md:text-2xl my-12">
          Instalación profesional de mármoles en 5 días hábiles
        </p>
        <a
          href="#contacto"
          class="bg-marmoles-gold text-marmoles-black px-8 py-3 rounded-lg font-semibold hover:bg-opacity-90 transition-all"
        >
          ¡Solicita ya!
        </a>
      </div>
    </div>
  </section>

  <!--  Promocion blanco polar  -->
  <PromoBlancoPolarModal client:visible />

  <!-- Services Section -->
  <section class="py-20 bg-marmoles-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
        Nuestros Servicios
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="p-6 border border-marmoles-gold rounded-lg text-center">
          <h3 class="text-xl font-semibold mb-4 text-marmoles-gold">
            Instalación
          </h3>
          <p>Instalación profesional con los más altos estándares de calidad</p>
        </div>
        <div class="p-6 border border-marmoles-gold rounded-lg text-center">
          <h3 class="text-xl font-semibold mb-4 text-marmoles-gold">
            Transporte
          </h3>
          <p>Transporte seguro y especializado de materiales</p>
        </div>
        <div class="p-6 border border-marmoles-gold rounded-lg text-center">
          <h3 class="text-xl font-semibold mb-4 text-marmoles-gold">
            Garantía
          </h3>
          <p>Garantía extendida en todos nuestros trabajos</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects Section -->
  <section class="py-20 bg-marmoles-black text-marmoles-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
        Nuestros Proyectos
      </h2>
      <CarouselWrapper client:visible items={projects} />
    </div>
  </section>

  <!-- Testimonies Section -->
  <section class="py-20 bg-marmoles-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
        Testimonios
      </h2>
      <TestimonialCarousel client:visible testimonies={testimonies} />
    </div>
  </section>

  <!-- Advantages Section -->
  <section class="py-20 bg-marmoles-black text-marmoles-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
        ¿Por qué elegirnos?
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <div class="text-center">
          <div class="text-marmoles-gold text-4xl mb-4">5</div>
          <h3 class="text-xl font-semibold mb-2">Días de Entrega</h3>
          <p>Tiempo récord de instalación</p>
        </div>
        <div class="text-center">
          <div class="text-marmoles-gold text-4xl mb-4">100%</div>
          <h3 class="text-xl font-semibold mb-2">Garantizado</h3>
          <p>Trabajos con garantía extendida</p>
        </div>
        <div class="text-center">
          <div class="text-marmoles-gold text-4xl mb-4">24/7</div>
          <h3 class="text-xl font-semibold mb-2">Soporte</h3>
          <p>Atención personalizada</p>
        </div>
        <div class="text-center">
          <div class="text-marmoles-gold text-4xl mb-4">✓</div>
          <h3 class="text-xl font-semibold mb-2">Calidad</h3>
          <p>Materiales premium</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contacto" class="py-20 bg-marmoles-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">
        Solicita tu Visita Técnica
      </h2>
      <p class="text-center text-lg text-marmoles-gold font-semibold mb-8">
        ¡15% de descuento en tu compra a través de la página web!
      </p>
      <div class="max-w-2xl mx-auto">
        <ContactForm client:visible />
      </div>
    </div>
  </section>

  <!-- Map Section -->
  <section class="py-20 bg-marmoles-white">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">
        Nuestra Ubicación
      </h2>
      <div class="w-full h-96 rounded-lg overflow-hidden shadow-lg">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3982.6549444444444!2d-76.53333333333333!3d3.433333333333333!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e30a6c7c5c5c5c5%3A0x5c5c5c5c5c5c5c5c!2sCl.%2043a%20Nte.%20%235N%2069%2C%20COMUNA%204%2C%20Cali%2C%20Valle%20del%20Cauca!5e0!3m2!1ses!2sco!4v1620000000000!5m2!1ses!2sco"
          width="100%"
          height="100%"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
          title="Ubicación de Mármoles Deluxe en Cali"
        >
        </iframe>
      </div>
      <div class="mt-8 text-center">
        <p class="text-lg font-medium">Visítanos en nuestra sede principal</p>
        <p class="text-marmoles-gold">
          Cl. 43a Nte. #5N 69, COMUNA 4, Cali, Valle del Cauca
        </p>
      </div>
    </div>
  </section>
</Layout>
